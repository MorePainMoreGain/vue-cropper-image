{"version":3,"sources":["webpack:///./src/assets/clock.jpg","webpack:///src/components/cropper.vue","webpack:///./src/components/cropper.vue?2c7f","webpack:///./src/components/cropper.vue","webpack:///src/App.vue","webpack:///./src/App.vue?2b4d","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/assets/font/iconfont.js"],"names":["module","exports","__webpack_require__","p","cropper","String","Number","Boolean","dragMode","aspectRatio","minCropBoxWidth","minCropBoxHeight","autoCropArea","cropBoxResizable","config","val","bar","clientHeight","clientWidth","init","this","preview","getCropBoxData","getData","cloneNode","id","cssText","clone","src","detail","conf","setWrapperStyle","getImageData","width","innerWidth","innerHeight","modelTop","style","file","objectURL","FileReader","result","getCroppedCanvas","canvas","reset","components_cropper","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","ref","on","click","doPreview","attrs","aria-hidden","xlink:href","_v","yes","cancel","isH5","_e","zoomIn","zoomOut","cropSrc","crossOrigin","$event","showPreview","staticRenderFns","src_components_cropper","normalizeComponent","ssrContext","srcPath","App","toData","selectortype_template_index_0_src_App","href","setExist","type","change","setSrc","cropped","cropedSrc","src_App","App_normalizeComponent","vue_esm","productionTip","el","components","template","window","scripts","svgSprite","prepend","target","firstChild","parentNode","insertBefore","before","appendChild","document","getElementsByTagName","length","getAttribute","__iconfont__svg__cssinject__","write","e","console","log","fn","addEventListener","indexOf","readyState","setTimeout","loadFn","removeEventListener","attachEvent","w","d","done","polling","documentElement","doScroll","onreadystatechange","IEContentLoaded","ready","div","svg","createElement","innerHTML","setAttribute","position","height","overflow","body"],"mappings":"uFAAAA,EAAAC,QAAAC,EAAAC,EAAA,qMC8CAD,EAAA,QAOA,IAAAE,mBAIAC,eAEA,uBACAC,uBACAA,wBACAA,oBACAA,wBACAC,uBAEAF,eAEA,eAEAA,eAEA,iBAGAA,kBAEAA,eAGA,qCAGA,UACA,SACA,eACA,oCACA,2CACA,eACA,YACA,cACA,cACA,iBAEA,iFAMAG,gCAGA,+DAGAC,4EAGAC,kFAGAC,2EAGAC,gFAGAC,kBAEAC,wCAKAC,2CAGA,uBACAA,cACA,2BAEAA,6BAKA,yBAIA,kBACAC,8CAEAC,mDAMAC,6BAGA,QAEAC,uCAIAC,8BACAC,yBAEA,+BAEAjB,YACAkB,qBACAC,2DACA,YACAC,wBACA,UACAC,GAAA,iBACAC,QACA,iHAOAC,oEAEAC,yBAEAC,sCAGAP,uCACAO,0BAGAf,+DACAgB,QACAC,kGAOAN,GAAA,4CACA,yCACA,qCACA,qEAEA,8BACA,sBACAO,2BACAC,oDACA,qDACA,8CACA,6CACA,qDAGAC,8BACAC,iBACAC,SACA,wBACAC,kCAGAjB,6DAGA,aACA,gFAYAkB,eACAC,yGAEAD,eACAC,6CACA,WACAC,sDAEAC,6BAEAH,2BAGA,mFAOA,uCAKAI,mBADAtB,oBAEAuB,GAFAvB,WAGA,EAHAA,aAIA,kCAJAA,KAMAmB,uDAiCAK,mBACA,eACA,yCAGA,4CAGA,OCjTAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA3B,KAAa4B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAR,EAAA,KAAAS,WAAA,SAAgEC,YAAA,iBAA6BP,EAAA,UAAeQ,IAAA,MAAAD,YAAA,QAA4BP,EAAA,OAAYO,YAAA,aAAuBP,EAAA,UAAeO,YAAA,kBAAAE,IAAkCC,MAAAb,EAAAc,aAAuBX,EAAA,OAAYO,YAAA,YAAAK,OAA+BC,cAAA,UAAsBb,EAAA,OAAYY,OAAOE,aAAA,oBAA6BjB,EAAAkB,GAAA,gBAAAlB,EAAAkB,GAAA,KAAAf,EAAA,UAAoDO,YAAA,cAAAE,IAA8BC,MAAAb,EAAAmB,OAAiBhB,EAAA,OAAYO,YAAA,YAAAK,OAA+BC,cAAA,UAAsBb,EAAA,OAAYY,OAAOE,aAAA,2BAAoCjB,EAAAkB,GAAA,gBAAAlB,EAAAkB,GAAA,KAAAf,EAAA,UAAoDO,YAAA,iBAAAE,IAAiCC,MAAAb,EAAAoB,UAAoBjB,EAAA,OAAYO,YAAA,YAAAK,OAA+BC,cAAA,UAAsBb,EAAA,OAAYY,OAAOE,aAAA,oBAA6BjB,EAAAkB,GAAA,kBAAAlB,EAAAkB,GAAA,KAAAlB,EAAAqB,KAA6drB,EAAAsB,KAA7dnB,EAAA,OAA+DO,YAAA,YAAsBP,EAAA,UAAeO,YAAA,kBAAAE,IAAkCC,MAAAb,EAAAuB,UAAoBpB,EAAA,OAAYO,YAAA,YAAAK,OAA+BC,cAAA,UAAsBb,EAAA,OAAYY,OAAOE,aAAA,qBAA8BjB,EAAAkB,GAAA,kBAAAf,EAAA,UAA0CO,YAAA,iBAAAE,IAAiCC,MAAAb,EAAAwB,WAAqBrB,EAAA,OAAYO,YAAA,YAAAK,OAA+BC,cAAA,UAAsBb,EAAA,OAAYY,OAAOE,aAAA,oBAA6BjB,EAAAkB,GAAA,sBAAAlB,EAAAkB,GAAA,KAAAf,EAAA,OAAgEO,YAAA,OAAApB,MAAAU,EAAA,eAA4CG,EAAA,OAAYY,OAAOlC,IAAAmB,EAAAyB,QAAA/C,GAAAsB,EAAAtB,GAAAgD,YAAA,iBAAyD1B,EAAAkB,GAAA,KAAAf,EAAA,OAA0BE,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAR,EAAA,YAAAS,WAAA,gBAA8EC,YAAA,eAAAE,IAAiCC,MAAA,SAAAc,GAAyB3B,EAAA4B,aAAA,MAAwBzB,EAAA,OAAYQ,IAAA,UAAAD,YAAA,iBAE3uDmB,oBCCjB,IAuBAC,EAvBA3E,EAAA,OAcA4E,CACA1E,EACAyC,GATA,EAVA,SAAAkC,GACA7E,EAAA,SAaA,kBAEA,MAUA,QCRA8E,EAAA9E,EAAA,QACA+E,QAEA,iCAIA,aAEA,iBAIA7E,QAAAyE,yCAGAG,iCAGA5E,oCACA,2CAGA8E,UCtCAC,GADiBrC,OAFjB,WAA0B,IAAAC,EAAA3B,KAAa4B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBY,OAAOrC,GAAA,SAAYyB,EAAA,OAAYO,YAAA,aAAuBP,EAAA,KAAUO,YAAA,MAAAK,OAAyBsB,KAAA,gBAAsBzB,IAAKC,MAAAb,EAAAsC,YAAsBtC,EAAAkB,GAAA,4BAAAlB,EAAAkB,GAAA,KAAAf,EAAA,KAAyDO,YAAA,MAAAK,OAAyBsB,KAAA,kBAAuBrC,EAAAkB,GAAA,uBAAAf,EAAA,SAA4CO,YAAA,OAAAK,OAA0BwB,KAAA,OAAAjC,KAAA,OAA2BM,IAAK4B,OAAAxC,EAAAyC,cAAqBzC,EAAAkB,GAAA,KAAAf,EAAA,WAAgCQ,IAAA,UAAAI,OAAqBlC,IAAAmB,EAAAnB,IAAAf,kBAAA,EAAAJ,YAAA,MAA0DkD,IAAK8B,QAAA1C,EAAA0C,WAAuB1C,EAAAkB,GAAA,KAAAf,EAAA,OAAwBO,YAAA,YAAsBP,EAAA,OAAYY,OAAOlC,IAAAmB,EAAA2C,gBAAqB,IAExqBd,oBCCjB,IAuBAe,EAvBAzF,EAAA,OAcA0F,CACAX,EACAE,GATA,EAVA,SAAAJ,GACA7E,EAAA,SAaA,KAEA,MAUA,QCrBA2F,EAAA,EAAI/E,OAAOgF,eAAgB,EAG3B,IAAID,EAAA,GACFE,GAAI,OACJC,YAAcf,IAAAU,GACdM,SAAU,gCCXZ,SAAUC,GAAQ,IAAykFC,EAArkFC,EAAU,iiFAAs7GC,EAAQ,SAASN,EAAGO,GAAWA,EAAOC,WAAzG,SAASR,EAAGO,GAAQA,EAAOE,WAAWC,aAAaV,EAAGO,GAA+DI,CAAOX,EAAGO,EAAOC,YAAiBD,EAAOK,YAAYZ,IAAiU,IAAnyCI,EAAQS,SAASC,qBAAqB,WAAyBV,EAAQW,OAAO,GAAiCC,aAAa,oBAA4rCb,EAAOc,6BAA6B,CAACd,EAAOc,8BAA6B,EAAK,IAAIJ,SAASK,MAAM,oIAAoI,MAAMC,GAAGC,SAASA,QAAQC,IAAIF,KAAn6C,SAASG,GAAOT,SAASU,mBAAuB,WAAW,SAAS,eAAeC,QAAQX,SAASY,YAAaC,WAAWJ,EAAG,GAAkGT,SAASU,iBAAiB,mBAAzG,SAAPI,IAAkBd,SAASe,oBAAoB,mBAAmBD,GAAO,GAAOL,MAA0D,GAAgBT,SAASgB,aAAwC,SAAyBC,EAAER,GAAI,IAAIS,EAAED,EAAEjB,SAASmB,GAAK,EAAM5G,EAAK,WAAe4G,IAAMA,GAAK,EAAKV,OAAmB,SAARW,IAAmB,IAAIF,EAAEG,gBAAgBC,SAAS,QAAQ,MAAMhB,GAA0B,YAAvBO,WAAWO,EAAQ,IAAW7G,KAAQ6G,GAAUF,EAAEK,mBAAmB,WAA4B,YAAdL,EAAEN,aAAwBM,EAAEK,mBAAmB,KAAKhH,MAA/UiH,CAAgBlC,EAAOmB,GAAqlCgB,CAAvlB,WAAqB,IAAIC,EAAIC,GAAID,EAAI1B,SAAS4B,cAAc,QAAWC,UAAUrC,EAAUA,EAAU,MAAKmC,EAAID,EAAIzB,qBAAqB,OAAO,MAAW0B,EAAIG,aAAa,cAAc,QAAQH,EAAIlG,MAAMsG,SAAS,WAAWJ,EAAIlG,MAAMJ,MAAM,EAAEsG,EAAIlG,MAAMuG,OAAO,EAAEL,EAAIlG,MAAMwG,SAAS,SAASxC,EAAQkC,EAAI3B,SAASkC,SAAv3H,CAA6qI5C","file":"static/js/index.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/clock.b2741e9.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/clock.jpg\n// module id = 7lgH\n// module chunks = 1","<template>\n<section class=\"crop-wrapper\" v-show=\"show\">\n  <header class=\"bar\" ref=\"bar\">\n\n    <div class=\"crop-btn\">\n    <button class=\"btn btn-preview\" @click=\"doPreview\">\n      <svg class=\"crop-icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-sousuo\"></use>\n      </svg>\n      预览</button>\n    <button class=\"btn btn-yes\" @click=\"yes\">\n      <svg class=\"crop-icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-tupiancaijian\"></use>\n      </svg>\n      确定</button>\n    <button class=\"btn btn-cancel\" @click=\"cancel\">\n      <svg class=\"crop-icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-cancel\"></use>\n      </svg>\n      取消</button>\n      </div>\n      <div class=\"control\" v-if=\"!isH5\">\n        <button class=\"btn btn-enlarge\" @click=\"zoomIn\">\n        <svg class=\"crop-icon\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-enlarge\"></use>\n        </svg>\n        放大</button><button class=\"btn btn-reduce\" @click=\"zoomOut\">\n        <svg class=\"crop-icon\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-reduce\"></use>\n        </svg>\n        缩小</button>\n      </div>\n  </header>\n\n    <!-- <div class=\"model\" :style=\"{top: modelTop}\"></div> -->\n    <div class=\"core\" :style=\"wrapperStyle\">\n      <img :src=\"cropSrc\" :id='id' crossOrigin=\"anonymous\">\n    </div>\n    <div class=\"preview-wrap\" v-show=\"showPreview\" @click=\"showPreview=false\">\n      <div ref=\"preview\" class=\"preview\"></div>\n    </div>\n</section>\n</template>\n<script>\n// import axios from 'axios';\nimport Cropper from 'cropperjs';\nrequire('cropperjs/dist/cropper.css')\n// require('css-loader!cropperjs/dist/cropper.css')\nimport '../assets/font/iconfont.js';\n/* TODO:\n1. 窗口调整的时候，动态计算可编辑区域的长宽高\n */\n\nexport default {\n  props: {\n    id: {\n      type: String,\n      default: 'cropImg'\n    },\n    aspectRatio: Number,\n    minCropBoxWidth: Number,\n    minCropBoxHeight: Number,\n    autoCropArea: Number,\n    cropBoxResizable: Boolean,\n    dragMode: {\n      type: String,\n      default: ''\n    },\n    name: {\n      type: String,\n      default: 'src'\n    },\n    src: {\n      type: String\n    },\n    url: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      modelTop: 0,\n      cropSrc: '',\n      show: false,\n      showPreview: false,\n      wrapperStyle: {'width': '100%', 'height': '100%'},\n      previewStyle: {'width': '500px', 'height': '300px'},\n      isH5: true,\n      objectURL: null,\n      $cropper: null,\n      $preview: null,\n      $previewImg: null\n    };\n  },\n  computed: {\n    config() {\n      let config = {};\n      if(this.dragMode) {\n        config.dragMode = this.dragMode;\n      }else if(this.isH5) {\n        // 移动端默认裁剪框不可缩放\n        config.dragMode = 'crop';\n      }\n      if((typeof this.aspectRatio) === 'number') {\n        config.aspectRatio = this.aspectRatio;\n      }\n      if((typeof this.minCropBoxWidth) === 'number') {\n        config.minCropBoxWidth = this.minCropBoxWidth;\n      }\n      if((typeof this.minCropBoxHeight) === 'number') {\n        config.minCropBoxHeight = this.minCropBoxHeight;\n      }\n      if((typeof this.autoCropArea) === 'number') {\n        config.autoCropArea = this.autoCropArea;\n      }\n      if((typeof this.cropBoxResizable) === 'boolean') {\n        config.cropBoxResizable = this.cropBoxResizable;\n      }\n      return config;\n    }\n  },\n  watch: {\n    'src': function(val) {\n      this.cropSrc = val;\n    },\n    'cropSrc': function(val) {\n      if(val && this.$cropper) {\n        this.$cropper.replace(val);\n        this.show = true;\n        try {\n          this.$previewImg.src = val;\n        } catch (e) {\n\n        }\n      }else {\n        this.show = false;\n      }\n    },\n    'show': function(val) {\n      if(val) {\n        let $bar = this.$refs.bar;\n        this.$nextTick(function() {\n          this.modelTop = $bar.clientHeight;\n        });\n      }\n    }\n  },\n  mounted() {\n    let winWidth = document.body.clientWidth;\n    if(winWidth > 751) {\n      // 小于ipad都认为是mobile\n      this.isH5 = false;\n    }\n    this.init();\n  },\n  methods: {\n    init() {\n      let _this = this;\n      this.$preview = this.$refs.preview;\n      let defaultConfig = {\n        response: true,\n        ready: function(e) {\n          var cropper = this.cropper;\n          var boxData = cropper.getCropBoxData();\n          var detail = cropper.getData();\n          if(document.getElementById(`${_this.id}_clone`) === null) {\n            var clone = this.cloneNode();\n            clone.className = '';\n            clone.id = `${_this.id}_clone`;\n            clone.style.cssText = (\n              'display: block;' +\n              'width: 100%;' +\n              'min-width: 0;' +\n              'min-height: 0;' +\n              'max-width: none;' +\n              'max-height: none;'\n            );\n            _this.$preview.appendChild(clone);\n          }else {\n            document.getElementById(`${_this.id}_clone`).setAttribute('src', _this.src);\n          }\n          _this.setPreviewStyle(boxData, detail);\n        },\n        crop: function(e) {\n          var boxData = _this.$cropper.getCropBoxData();\n          _this.setPreviewStyle(boxData, e.detail);\n        }\n      };\n      let conf = Object.assign({}, defaultConfig, this.config);\n      this.$cropper = new Cropper(document.getElementById(this.id), conf);\n      this.setWrapperStyle();\n      /* window.addEventListener('resize', _.debounce(function(){\n          _this.setWrapperStyle();\n      }, 50)) */\n    },\n    setPreviewStyle(boxData, data) {\n      this.$previewImg = document.getElementById(`${this.id}_clone`);\n\n      this.$preview.style.width = boxData.width + 'px';\n      this.$preview.style.height = boxData.height + 'px';\n      this.$preview.style.left = boxData.left + 'px';\n      this.$preview.style.top = (parseInt(boxData.top) + parseInt(this.modelTop)) + 'px';\n\n      if(!this.$previewImg) return false;\n      var imageData = this.$cropper.getImageData();\n      var imageScaledRatio = data.width / boxData.width;\n      this.$previewImg.style.width = imageData.naturalWidth / imageScaledRatio + 'px';\n      this.$previewImg.style.height = imageData.naturalHeight / imageScaledRatio + 'px';\n      this.$previewImg.style.marginLeft = -data.x / imageScaledRatio + 'px';\n      this.$previewImg.style.marginTop = -data.y / imageScaledRatio + 'px';\n    },\n    setWrapperStyle() {\n      let w = window.innerWidth;\n      let h = window.innerHeight;\n      let height = h - this.modelTop;\n      let style = {width: `${w}px`, height: `${height}px`};\n      this.wrapperStyle = style;\n    },\n    createImgUrl(file) {\n      let _this = this;\n      // 判断文件类型\n      if(!/image\\/\\w+/.test(file.type)) {\n        this.$emit('error', '文件必须为图片！');\n        return false;\n      }\n      /* else{\n        var fileSize = file.size / 1024;\n        if(fileSize > 2048){\n          alert(\"图片大小不能超过2MB\");\n        }\n      } */\n      // var ext = file.slice(file.lastIndexOf(\".\")+1).toLowerCase();// 判断后缀\n      // if(!/\\.(jpg|jpeg|png)$/.test(ths.value)) {}\n      // 判断图像接口\n      if(window.URL.createObjectURL !== undefined) {\n        _this.objectURL = window.URL.createObjectURL(file);\n        _this.cropSrc = _this.objectURL;\n      }else if(window.webkitURL.createObjectURL !== undefined) {\n        _this.objectURL = window.webkitURL.createObjectURL(file);\n        _this.cropSrc = _this.objectURL;\n      }else if(window.FileReader !== undefined) {\n        var fr = new FileReader();\n        fr.onloadend = function(e) {\n          _this.cropSrc = e.target.result;\n        };\n        fr.readAsBinaryString(file);\n      }else {\n        // 所有的接口都不支持就不裁剪了，直接上传\n        this.$emit('error', '图片裁剪接口不支持，请联系管理员');\n      }\n    },\n    doPreview() {\n      if(this.$cropper !== null) {\n        // let box = this.$cropper.getCropBoxData();\n        // this.previewStyle = {width: `${box.width}px`, height: `${box.height}px`};\n        this.showPreview = true;\n      }\n    },\n    yes() {\n      var _this = this;\n      let canvas = this.$cropper.getCroppedCanvas();\n      _this.$emit('croped', canvas);\n      _this.show = false;\n      _this.cropSrc = '';\n      try {\n        window.URL.revokeObjectURL(_this.objectURL);\n      } catch (e) {}\n      // if(!_this.url) return false;\n      // let url = this.$cropper.getCroppedCanvas().toDataURL('image/jpg');\n      // let formData = new FormData();\n      // formData.append('src', url);\n      // formData.append('filename', 'pocket-watch-3156771_1920.jpg');\n      // formData.append('Content-Type', 'image/jpeg');\n      /* axios.post(_this.url, formData, {withCredentials: true})\n        .then(data => {\n          _this.$emit('uploaded', data);\n          console.log(data);\n        })\n        .catch(data => {\n          _this.$emit('uploadError', data);\n          console.error(data);\n        }) */\n      /* this.$cropper.getCroppedCanvas().toBlob(blob => {\n        var formData = new FormData();\n        formData.append(_this.name, blob);\n        // formData.append('filename', 'demo.jpg');\n        axios.post(_this.url, formData)\n        .then(data => {\n          _this.$emit('afterUpload', data);\n          console.log(data);\n        })\n        .catch(data => {\n          _this.$emit('uploadError', data);\n          console.error(data);\n        })\n      }); */\n    },\n    cancel() {\n      this.$cropper.reset();\n      this.show = false;\n      this.cropSrc = '';\n    },\n    zoomIn() {\n      this.$cropper.zoom(0.1);\n    },\n    zoomOut() {\n      this.$cropper.zoom(-0.1);\n    }\n  }\n};\n</script>\n<style scoped>\n.crop-wrapper {position: fixed;top: 0;left: 0;bottom: 0;right: 0;z-index: 990}\n.crop-wrapper .bar {position: relative;padding: 8px 22px;background: #fff;font-size: 14px;}\n.crop-wrapper .bar button {outline: none;}\n.crop-wrapper .model {position: absolute;left: 0;right: 0;bottom: 0;background-color: rgba(0,0,0,0.5);}\n.crop-wrapper .core>img {max-width: 100%}\n.crop-wrapper .preview-wrap {position: fixed;top: 0;left: 0;right: 0;bottom: 0;margin: 0;background-color: rgba(0,0,0,0.8);z-index: 999;}\n.crop-wrapper .preview-wrap .preview {position: absolute;top: 50%;left: 50%;overflow: hidden;}\n\n.crop-wrapper .bar .crop-btn {position: absolute; right: 22px;top: 6px;}\n.crop-wrapper .crop-btn .btn {padding: 6px 14px;margin-left: 7px;margin-right: 7px;border-radius: 3px;color: #fff;border: 1px solid #dcdfe6;}\n.crop-wrapper .crop-btn .btn-preview,\n.crop-wrapper .crop-btn .btn-yes {color: #409eff;background: #ecf5ff;border-color: #b3d8ff;}\n/* .crop-wrapper .crop-btn .btn-yes {color: #67c23a;background: #f0f9eb;border-color: #c2e7b0;} */\n.crop-wrapper .crop-btn .btn-cancel {color: #909399;background: #f4f4f5;border-color: #d3d4d6;}\n.crop-wrapper .crop-btn .btn:hover {color: #fff;}\n.crop-wrapper .crop-btn .btn-preview:hover,\n.crop-wrapper .crop-btn .btn-yes:hover {background: #409eff;}\n/* .crop-wrapper .crop-btn .btn-yes:hover {background: #67c23a;} */\n.crop-wrapper .crop-btn .btn-cancel:hover {background: #909399;}\n\n.crop-wrapper .control .btn {padding: 6px 14px;color: #fff;background-color: #409eff;border-color: #409eff;}\n.crop-wrapper .control .btn:hover {background-color: #0062cc;border-color: #005cbf;}\n.crop-wrapper .control .btn-enlarge {border-top-left-radius: 3px;border-bottom-left-radius: 3px;border-right-color: #74b3f7;}\n.crop-wrapper .control .btn-reduce {border-top-right-radius: 3px;border-bottom-right-radius: 3px;}\n/* icon style */\n.crop-wrapper .crop-icon {width: 1em; height: 1em;vertical-align: -0.15em;fill: currentColor;overflow: hidden;}\n\n@media screen and (max-width: 752px) {\n.crop-wrapper .bar .crop-btn {position: relative;right: auto;top: auto;font-size: 12px;text-align: center;}\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/cropper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"crop-wrapper\"},[_c('header',{ref:\"bar\",staticClass:\"bar\"},[_c('div',{staticClass:\"crop-btn\"},[_c('button',{staticClass:\"btn btn-preview\",on:{\"click\":_vm.doPreview}},[_c('svg',{staticClass:\"crop-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-sousuo\"}})]),_vm._v(\"\\n      预览\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-yes\",on:{\"click\":_vm.yes}},[_c('svg',{staticClass:\"crop-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-tupiancaijian\"}})]),_vm._v(\"\\n      确定\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-cancel\",on:{\"click\":_vm.cancel}},[_c('svg',{staticClass:\"crop-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-cancel\"}})]),_vm._v(\"\\n      取消\")])]),_vm._v(\" \"),(!_vm.isH5)?_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"btn btn-enlarge\",on:{\"click\":_vm.zoomIn}},[_c('svg',{staticClass:\"crop-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-enlarge\"}})]),_vm._v(\"\\n        放大\")]),_c('button',{staticClass:\"btn btn-reduce\",on:{\"click\":_vm.zoomOut}},[_c('svg',{staticClass:\"crop-icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-reduce\"}})]),_vm._v(\"\\n        缩小\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"core\",style:(_vm.wrapperStyle)},[_c('img',{attrs:{\"src\":_vm.cropSrc,\"id\":_vm.id,\"crossOrigin\":\"anonymous\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPreview),expression:\"showPreview\"}],staticClass:\"preview-wrap\",on:{\"click\":function($event){_vm.showPreview=false}}},[_c('div',{ref:\"preview\",staticClass:\"preview\"})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f7c2abd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/cropper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f7c2abd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cropper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cropper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./cropper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f7c2abd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./cropper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f7c2abd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cropper.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n\n    <div class=\"btn-wrap\">\n      <a @click=\"setExist\" class=\"btn\" href=\"javascript:;\">crop an existing image</a>\n      <a class=\"btn\" href=\"javascript:;\">upload an new image<input class=\"file\" type=\"file\" name=\"img\" @change=\"setSrc\"></a>\n    </div>\n    <cropper :src='src' :cropBoxResizable=\"false\" :aspectRatio=\"16/9\" ref=\"cropper\" @cropped=\"cropped\"/>\n\n    <div class=\"preview\">\n      <img :src=\"cropedSrc\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport cropper from './components/cropper'\n// import cropper from 'vue-cropper-image';\nconst srcPath = require('@/assets/clock.jpg');\nexport default {\n  name: 'App',\n  data() {\n    return  {\n      // src: 'https://getbootstrap.com/docs/4.1/assets/img/bootstrap-stack.png'\n      src: '',\n      cropedSrc: ''\n    }\n  },\n  components: {\n    cropper\n  },\n  methods: {\n    setExist() {\n      this.src = srcPath;\n    },\n    setSrc(e) {\n      let $cropper = this.$refs.cropper;\n      $cropper.createImgUrl(e.target.files[0])\n    },\n    cropped(canvas) {\n      this.croppedSrc = canvas.toData\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n#app .btn-wrap {width: 300px;margin: 56px auto;text-align: center;}\n#app .btn-wrap .btn {position: relative;display: block;padding: 20px 0;margin-bottom: 15px;border: 2px solid #42b983;color: #42b983;font-size: 16px;text-decoration: none;}\n#app .btn-wrap .btn .file {position: absolute;top: 0;left: 0;right: 0;bottom: 0;opacity: 0;z-index: 1;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"btn-wrap\"},[_c('a',{staticClass:\"btn\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.setExist}},[_vm._v(\"crop an existing image\")]),_vm._v(\" \"),_c('a',{staticClass:\"btn\",attrs:{\"href\":\"javascript:;\"}},[_vm._v(\"upload an new image\"),_c('input',{staticClass:\"file\",attrs:{\"type\":\"file\",\"name\":\"img\"},on:{\"change\":_vm.setSrc}})])]),_vm._v(\" \"),_c('cropper',{ref:\"cropper\",attrs:{\"src\":_vm.src,\"cropBoxResizable\":false,\"aspectRatio\":16/9},on:{\"cropped\":_vm.cropped}}),_vm._v(\" \"),_c('div',{staticClass:\"preview\"},[_c('img',{attrs:{\"src\":_vm.cropedSrc}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-971586f0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-971586f0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-971586f0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","(function(window){var svgSprite='<svg><symbol id=\"icon-sousuo\" viewBox=\"0 0 1024 1024\"><path d=\"M1004.8 915.2l-243.2-243.2c0 0-6.4-6.4-6.4-6.4C800 595.2 832 505.6 832 416 832 185.6 646.4 0 416 0S0 185.6 0 416 185.6 832 416 832c89.6 0 179.2-32 243.2-83.2 0 6.4 6.4 6.4 6.4 6.4l243.2 243.2c25.6 25.6 70.4 25.6 96 6.4C1030.4 979.2 1030.4 940.8 1004.8 915.2zM64 416C64 224 224 64 416 64S768 224 768 416 608 768 416 768 64 608 64 416z\"  ></path></symbol><symbol id=\"icon-cancel\" viewBox=\"0 0 1024 1024\"><path d=\"M482.7 249.9V106.1c0-37.4-45.3-56.2-71.7-29.7L140.3 347c-16.4 16.4-16.4 43 0 59.4L410.9 677c26.5 26.5 71.7 7.7 71.7-29.7v-155c96.1-0.3 271.5-10.7 271.5 227.7 0 118.1-92.8 216.8-216 239.6 198.1-24.4 326-236 326-361.9 0.1-292.6-309.4-346.3-381.4-347.8z\" fill=\"\" ></path></symbol><symbol id=\"icon-reduce\" viewBox=\"0 0 1024 1024\"><path d=\"M750.3 198.7C598 46.4 351.1 46.4 198.7 198.7s-152.3 399.2 0 551.5C345.1 896.6 578.8 902.3 732 767.3l172.1 172.1 35.4-35.4-172.1-171.9c135-153.2 129.3-387-17.1-533.4z m39.3 403.8c-17.1 42.1-42.2 80-74.7 112.4-32.5 32.5-70.3 57.6-112.4 74.7-40.7 16.5-83.8 24.9-128 24.9s-87.2-8.4-128-24.9c-42.1-17.1-80-42.2-112.4-74.7s-57.6-70.3-74.7-112.4c-16.5-40.7-24.9-83.8-24.9-128s8.4-87.2 24.9-128c17.1-42.1 42.2-80 74.7-112.4s70.3-57.6 112.4-74.7c40.7-16.5 83.8-24.9 128-24.9s87.2 8.4 128 24.9c42.1 17.1 80 42.2 112.4 74.7 32.5 32.5 57.6 70.3 74.7 112.4 16.5 40.7 24.9 83.8 24.9 128s-8.4 87.3-24.9 128zM671 502H271v-50h400v50z\" fill=\"\" ></path></symbol><symbol id=\"icon-enlarge\" viewBox=\"0 0 1024 1024\"><path d=\"M750.3 198.7C598 46.4 351.1 46.4 198.7 198.7s-152.3 399.2 0 551.5C345.1 896.6 578.8 902.3 732 767.3l172.1 172.1 35.4-35.4-172.1-171.9c135-153.2 129.3-387-17.1-533.4z m39.3 403.8c-17.1 42.1-42.2 80-74.7 112.4-32.5 32.5-70.3 57.6-112.4 74.7-40.7 16.5-83.8 24.9-128 24.9s-87.2-8.4-128-24.9c-42.1-17.1-80-42.2-112.4-74.7s-57.6-70.3-74.7-112.4c-16.5-40.7-24.9-83.8-24.9-128s8.4-87.2 24.9-128c17.1-42.1 42.2-80 74.7-112.4s70.3-57.6 112.4-74.7c40.7-16.5 83.8-24.9 128-24.9s87.2 8.4 128 24.9c42.1 17.1 80 42.2 112.4 74.7 32.5 32.5 57.6 70.3 74.7 112.4 16.5 40.7 24.9 83.8 24.9 128s-8.4 87.3-24.9 128zM671 502H496v175h-50V502H271v-50h175V277h50v175h175v50z\" fill=\"\" ></path></symbol><symbol id=\"icon-tupiancaijian\" viewBox=\"0 0 1024 1024\"><path d=\"M928 752h-96v-448c0-54.4-41.6-96-96-96h-480v-128c0-19.2-12.8-32-32-32s-32 12.8-32 32v128h-96c-19.2 0-32 12.8-32 32s12.8 32 32 32h96v448c0 54.4 41.6 96 96 96h480v128c0 19.2 12.8 32 32 32s32-12.8 32-32v-128h96c19.2 0 32-12.8 32-32s-12.8-32-32-32z m-640 0c-19.2 0-32-12.8-32-32v-448h480c19.2 0 32 12.8 32 32v448h-480z\"  ></path></symbol></svg>';var script=function(){var scripts=document.getElementsByTagName(\"script\");return scripts[scripts.length-1]}();var shouldInjectCss=script.getAttribute(\"data-injectcss\");var ready=function(fn){if(document.addEventListener){if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState)){setTimeout(fn,0)}else{var loadFn=function(){document.removeEventListener(\"DOMContentLoaded\",loadFn,false);fn()};document.addEventListener(\"DOMContentLoaded\",loadFn,false)}}else if(document.attachEvent){IEContentLoaded(window,fn)}function IEContentLoaded(w,fn){var d=w.document,done=false,init=function(){if(!done){done=true;fn()}};var polling=function(){try{d.documentElement.doScroll(\"left\")}catch(e){setTimeout(polling,50);return}init()};polling();d.onreadystatechange=function(){if(d.readyState==\"complete\"){d.onreadystatechange=null;init()}}}};var before=function(el,target){target.parentNode.insertBefore(el,target)};var prepend=function(el,target){if(target.firstChild){before(el,target.firstChild)}else{target.appendChild(el)}};function appendSvg(){var div,svg;div=document.createElement(\"div\");div.innerHTML=svgSprite;svgSprite=null;svg=div.getElementsByTagName(\"svg\")[0];if(svg){svg.setAttribute(\"aria-hidden\",\"true\");svg.style.position=\"absolute\";svg.style.width=0;svg.style.height=0;svg.style.overflow=\"hidden\";prepend(svg,document.body)}}if(shouldInjectCss&&!window.__iconfont__svg__cssinject__){window.__iconfont__svg__cssinject__=true;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}ready(appendSvg)})(window)\n\n\n// WEBPACK FOOTER //\n// ./src/assets/font/iconfont.js"],"sourceRoot":""}