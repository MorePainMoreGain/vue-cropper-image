webpackJsonp([1],{"5Qkr":function(t,e){},EoUZ:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={name:"App",data:function(){return{src:"https://getbootstrap.com/docs/4.1/assets/img/bootstrap-stack.png"}},components:{cropper:i("qsei").a},methods:{setSrc:function(t){this.src=t.target.files[0]}}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("cropper",{attrs:{src:this.src,aspectRatio:16/9}})],1)},staticRenderFns:[]};var r=i("VU/8")(n,o,!1,function(t){i("oM6V")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:r},template:"<App/>"})},dRbE:function(t,e,i){"use strict";var s=i("woOf"),n=i.n(s),o=i("5SB6");i("VoX6");i("5Qkr");var r=null,a=null,c=null,p={props:{id:{type:String,default:"cropImg"},aspectRatio:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,autoCropArea:Number,cropBoxResizable:Boolean,dragMode:{type:String,default:"crop"},name:{type:String,default:"src"},src:{type:String},url:{type:String,default:""}},data:function(){return{modelTop:0,show:!0,showPreview:!1,wrapperStyle:{width:"100%",height:"100%"},previewStyle:{width:"500px",height:"300px"},isH5:!0}},computed:{config:function(){var t={};return t.dragMode=this.dragMode,"number"==typeof this.aspectRatio&&(t.aspectRatio=this.aspectRatio),"number"==typeof this.minCropBoxWidth&&(t.minCropBoxWidth=this.minCropBoxWidth),"number"==typeof this.minCropBoxHeight&&(t.minCropBoxHeight=this.minCropBoxHeight),"number"==typeof this.autoCropArea&&(t.autoCropArea=this.autoCropArea),"boolean"==typeof this.cropBoxResizable&&(t.cropBoxResizable=this.cropBoxResizable),t}},watch:{src:function(t){if(t&&r){r.replace(t),this.show=!0;try{c.src=t}catch(t){}}else this.show=!1},show:function(t){if(t){var e=this.$refs.bar;this.$nextTick(function(){this.modelTop=e.clientHeight})}}},mounted:function(){document.body.clientWidth>751&&(this.isH5=!1),this.init()},methods:{init:function(){var t=this;a=this.$refs.preview;var e={response:!0,ready:function(e){var i=this.cropper,s=i.getCropBoxData(),n=i.getData();if(null===document.getElementById(t.id+"_clone")){var o=this.cloneNode();o.className="",o.id=t.id+"_clone",o.style.cssText="display: block;width: 100%;min-width: 0;min-height: 0;max-width: none;max-height: none;",a.appendChild(o)}else document.getElementById(t.id+"_clone").setAttribute("src",t.src);t.setPreviewStyle(s,n)},crop:function(e){var i=r.getCropBoxData();t.setPreviewStyle(i,e.detail)}},i=n()({},e,this.config);r=new o.a(document.getElementById(this.id),i),this.setWrapperStyle()},setPreviewStyle:function(t,e){if(c=document.getElementById(this.id+"_clone"),a.style.width=t.width+"px",a.style.height=t.height+"px",a.style.left=t.left+"px",a.style.top=parseInt(t.top)+parseInt(this.modelTop)+"px",!c)return!1;var i=r.getImageData(),s=e.width/t.width;c.style.width=i.naturalWidth/s+"px",c.style.height=i.naturalHeight/s+"px",c.style.marginLeft=-e.x/s+"px",c.style.marginTop=-e.y/s+"px"},setWrapperStyle:function(){var t={width:window.innerWidth+"px",height:window.innerHeight-this.modelTop+"px"};this.wrapperStyle=t},doPreview:function(){null!==r&&(this.showPreview=!0)},yes:function(){var t=r.getCroppedCanvas();this.$emit("croped",t),this.show=!1},cancel:function(){r.reset(),this.show=!1},zoomIn:function(){r.zoom(.1)},zoomOut:function(){r.zoom(-.1)}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"crop-wrapper"},[i("header",{ref:"bar",staticClass:"bar"},[i("div",{staticClass:"btn-wrap"},[i("button",{staticClass:"btn btn-preview",on:{click:t.doPreview}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-sousuo"}})]),t._v("\n      预览")]),t._v(" "),i("button",{staticClass:"btn btn-yes",on:{click:t.yes}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tupiancaijian"}})]),t._v("\n      确定")]),t._v(" "),i("button",{staticClass:"btn btn-cancel",on:{click:t.cancel}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-cancel"}})]),t._v("\n      取消")])]),t._v(" "),t.isH5?t._e():i("div",{staticClass:"control"},[i("button",{staticClass:"btn btn-enlarge",on:{click:t.zoomIn}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-enlarge"}})]),t._v("\n        放大")]),i("button",{staticClass:"btn btn-reduce",on:{click:t.zoomOut}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-reduce"}})]),t._v("\n        缩小")])])]),t._v(" "),i("div",{staticClass:"core",style:t.wrapperStyle},[i("img",{attrs:{src:t.src,id:t.id,crossOrigin:"anonymous"}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPreview,expression:"showPreview"}],staticClass:"preview-wrap",on:{click:function(e){t.showPreview=!1}}},[i("div",{ref:"preview",staticClass:"preview"})])])},staticRenderFns:[]};var h=i("VU/8")(p,l,!1,function(t){i("EoUZ")},null,null);e.a=h.exports},oM6V:function(t,e){}},["NHnr"]);
//# sourceMappingURL=index.js.map