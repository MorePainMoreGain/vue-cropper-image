webpackJsonp([1],{"27Br":function(t,e){},"5Qkr":function(t,e){},"7lgH":function(t,e,i){t.exports=i.p+"static/img/clock.b2741e9.jpg"},"8NAh":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("7+uW"),o=i("woOf"),s=i.n(o),n=i("5SB6");i("qGOr");i("5Qkr");var c={props:{id:{type:String,default:"cropImg"},aspectRatio:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,autoCropArea:Number,cropBoxResizable:Boolean,dragMode:{type:String,default:""},name:{type:String,default:"src"},src:{type:String},url:{type:String,default:""}},data:function(){return{modelTop:0,cropSrc:"",show:!1,showPreview:!1,wrapperStyle:{width:"100%",height:"100%"},previewStyle:{width:"500px",height:"300px"},isH5:!0,objectURL:null,$cropper:null,$preview:null,$previewImg:null}},computed:{config:function(){var t={};return this.dragMode?t.dragMode=this.dragMode:this.isH5&&(t.dragMode="crop"),"number"==typeof this.aspectRatio&&(t.aspectRatio=this.aspectRatio),"number"==typeof this.minCropBoxWidth&&(t.minCropBoxWidth=this.minCropBoxWidth),"number"==typeof this.minCropBoxHeight&&(t.minCropBoxHeight=this.minCropBoxHeight),"number"==typeof this.autoCropArea&&(t.autoCropArea=this.autoCropArea),"boolean"==typeof this.cropBoxResizable&&(t.cropBoxResizable=this.cropBoxResizable),t}},watch:{src:function(t){this.cropSrc=t},cropSrc:function(t){if(t&&this.$cropper){this.$cropper.replace(t),this.show=!0;try{this.$previewImg.src=t}catch(t){}}else this.show=!1},show:function(t){if(t){var e=this.$refs.bar;this.$nextTick(function(){this.modelTop=e.clientHeight})}}},mounted:function(){document.body.clientWidth>751&&(this.isH5=!1),this.init()},methods:{init:function(){var t=this;this.$preview=this.$refs.preview;var e={response:!0,ready:function(e){var i=this.cropper,r=i.getCropBoxData(),o=i.getData();if(null===document.getElementById(t.id+"_clone")){var s=this.cloneNode();s.className="",s.id=t.id+"_clone",s.style.cssText="display: block;width: 100%;min-width: 0;min-height: 0;max-width: none;max-height: none;",t.$preview.appendChild(s)}else document.getElementById(t.id+"_clone").setAttribute("src",t.src);t.setPreviewStyle(r,o)},crop:function(e){var i=t.$cropper.getCropBoxData();t.setPreviewStyle(i,e.detail)}},i=s()({},e,this.config);this.$cropper=new n.a(document.getElementById(this.id),i),this.setWrapperStyle()},setPreviewStyle:function(t,e){if(this.$previewImg=document.getElementById(this.id+"_clone"),this.$preview.style.width=t.width+"px",this.$preview.style.height=t.height+"px",this.$preview.style.left=t.left+"px",this.$preview.style.top=parseInt(t.top)+parseInt(this.modelTop)+"px",!this.$previewImg)return!1;var i=this.$cropper.getImageData(),r=e.width/t.width;this.$previewImg.style.width=i.naturalWidth/r+"px",this.$previewImg.style.height=i.naturalHeight/r+"px",this.$previewImg.style.marginLeft=-e.x/r+"px",this.$previewImg.style.marginTop=-e.y/r+"px"},setWrapperStyle:function(){var t={width:window.innerWidth+"px",height:window.innerHeight-this.modelTop+"px"};this.wrapperStyle=t},createImgUrl:function(t){var e=this;if(!/image\/\w+/.test(t.type))return this.$emit("error","文件必须为图片！"),!1;if(void 0!==window.URL.createObjectURL)e.objectURL=window.URL.createObjectURL(t),e.cropSrc=e.objectURL;else if(void 0!==window.webkitURL.createObjectURL)e.objectURL=window.webkitURL.createObjectURL(t),e.cropSrc=e.objectURL;else if(void 0!==window.FileReader){var i=new FileReader;i.onloadend=function(t){e.cropSrc=t.target.result},i.readAsBinaryString(t)}else this.$emit("error","图片裁剪接口不支持，请联系管理员")},doPreview:function(){null!==this.$cropper&&(this.showPreview=!0)},yes:function(){var t=this.$cropper.getCroppedCanvas();this.$emit("croped",t),this.show=!1,this.cropSrc="";try{window.URL.revokeObjectURL(this.objectURL)}catch(t){}},cancel:function(){this.$cropper.reset(),this.show=!1,this.cropSrc=""},zoomIn:function(){this.$cropper.zoom(.1)},zoomOut:function(){this.$cropper.zoom(-.1)}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"crop-wrapper"},[i("header",{ref:"bar",staticClass:"bar"},[i("div",{staticClass:"crop-btn"},[i("button",{staticClass:"btn btn-preview",on:{click:t.doPreview}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-sousuo"}})]),t._v("\n      预览")]),t._v(" "),i("button",{staticClass:"btn btn-yes",on:{click:t.yes}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tupiancaijian"}})]),t._v("\n      确定")]),t._v(" "),i("button",{staticClass:"btn btn-cancel",on:{click:t.cancel}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-cancel"}})]),t._v("\n      取消")])]),t._v(" "),t.isH5?t._e():i("div",{staticClass:"control"},[i("button",{staticClass:"btn btn-enlarge",on:{click:t.zoomIn}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-enlarge"}})]),t._v("\n        放大")]),i("button",{staticClass:"btn btn-reduce",on:{click:t.zoomOut}},[i("svg",{staticClass:"crop-icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-reduce"}})]),t._v("\n        缩小")])])]),t._v(" "),i("div",{staticClass:"core",style:t.wrapperStyle},[i("img",{attrs:{src:t.cropSrc,id:t.id,crossOrigin:"anonymous"}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPreview,expression:"showPreview"}],staticClass:"preview-wrap",on:{click:function(e){t.showPreview=!1}}},[i("div",{ref:"preview",staticClass:"preview"})])])},staticRenderFns:[]};var p=i("VU/8")(c,a,!1,function(t){i("8NAh")},"data-v-7f7c2abd",null).exports,l=i("7lgH"),h={name:"App",data:function(){return{src:"",cropedSrc:""}},components:{cropper:p},methods:{setExist:function(){this.src=l},setSrc:function(t){this.$refs.cropper.createImgUrl(t.target.files[0])},cropped:function(t){this.croppedSrc=t.toData}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"btn-wrap"},[i("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.setExist}},[t._v("crop an existing image")]),t._v(" "),i("a",{staticClass:"btn",attrs:{href:"javascript:;"}},[t._v("upload an new image"),i("input",{staticClass:"file",attrs:{type:"file",name:"img"},on:{change:t.setSrc}})])]),t._v(" "),i("cropper",{ref:"cropper",attrs:{src:t.src,cropBoxResizable:!1,aspectRatio:16/9},on:{cropped:t.cropped}}),t._v(" "),i("div",{staticClass:"preview"},[i("img",{attrs:{src:t.cropedSrc}})])],1)},staticRenderFns:[]};var u=i("VU/8")(h,d,!1,function(t){i("27Br")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:u},template:"<App/>"})},qGOr:function(t,e){!function(t){var e,i='<svg><symbol id="icon-sousuo" viewBox="0 0 1024 1024"><path d="M1004.8 915.2l-243.2-243.2c0 0-6.4-6.4-6.4-6.4C800 595.2 832 505.6 832 416 832 185.6 646.4 0 416 0S0 185.6 0 416 185.6 832 416 832c89.6 0 179.2-32 243.2-83.2 0 6.4 6.4 6.4 6.4 6.4l243.2 243.2c25.6 25.6 70.4 25.6 96 6.4C1030.4 979.2 1030.4 940.8 1004.8 915.2zM64 416C64 224 224 64 416 64S768 224 768 416 608 768 416 768 64 608 64 416z"  ></path></symbol><symbol id="icon-cancel" viewBox="0 0 1024 1024"><path d="M482.7 249.9V106.1c0-37.4-45.3-56.2-71.7-29.7L140.3 347c-16.4 16.4-16.4 43 0 59.4L410.9 677c26.5 26.5 71.7 7.7 71.7-29.7v-155c96.1-0.3 271.5-10.7 271.5 227.7 0 118.1-92.8 216.8-216 239.6 198.1-24.4 326-236 326-361.9 0.1-292.6-309.4-346.3-381.4-347.8z" fill="" ></path></symbol><symbol id="icon-reduce" viewBox="0 0 1024 1024"><path d="M750.3 198.7C598 46.4 351.1 46.4 198.7 198.7s-152.3 399.2 0 551.5C345.1 896.6 578.8 902.3 732 767.3l172.1 172.1 35.4-35.4-172.1-171.9c135-153.2 129.3-387-17.1-533.4z m39.3 403.8c-17.1 42.1-42.2 80-74.7 112.4-32.5 32.5-70.3 57.6-112.4 74.7-40.7 16.5-83.8 24.9-128 24.9s-87.2-8.4-128-24.9c-42.1-17.1-80-42.2-112.4-74.7s-57.6-70.3-74.7-112.4c-16.5-40.7-24.9-83.8-24.9-128s8.4-87.2 24.9-128c17.1-42.1 42.2-80 74.7-112.4s70.3-57.6 112.4-74.7c40.7-16.5 83.8-24.9 128-24.9s87.2 8.4 128 24.9c42.1 17.1 80 42.2 112.4 74.7 32.5 32.5 57.6 70.3 74.7 112.4 16.5 40.7 24.9 83.8 24.9 128s-8.4 87.3-24.9 128zM671 502H271v-50h400v50z" fill="" ></path></symbol><symbol id="icon-enlarge" viewBox="0 0 1024 1024"><path d="M750.3 198.7C598 46.4 351.1 46.4 198.7 198.7s-152.3 399.2 0 551.5C345.1 896.6 578.8 902.3 732 767.3l172.1 172.1 35.4-35.4-172.1-171.9c135-153.2 129.3-387-17.1-533.4z m39.3 403.8c-17.1 42.1-42.2 80-74.7 112.4-32.5 32.5-70.3 57.6-112.4 74.7-40.7 16.5-83.8 24.9-128 24.9s-87.2-8.4-128-24.9c-42.1-17.1-80-42.2-112.4-74.7s-57.6-70.3-74.7-112.4c-16.5-40.7-24.9-83.8-24.9-128s8.4-87.2 24.9-128c17.1-42.1 42.2-80 74.7-112.4s70.3-57.6 112.4-74.7c40.7-16.5 83.8-24.9 128-24.9s87.2 8.4 128 24.9c42.1 17.1 80 42.2 112.4 74.7 32.5 32.5 57.6 70.3 74.7 112.4 16.5 40.7 24.9 83.8 24.9 128s-8.4 87.3-24.9 128zM671 502H496v175h-50V502H271v-50h175V277h50v175h175v50z" fill="" ></path></symbol><symbol id="icon-tupiancaijian" viewBox="0 0 1024 1024"><path d="M928 752h-96v-448c0-54.4-41.6-96-96-96h-480v-128c0-19.2-12.8-32-32-32s-32 12.8-32 32v128h-96c-19.2 0-32 12.8-32 32s12.8 32 32 32h96v448c0 54.4 41.6 96 96 96h480v128c0 19.2 12.8 32 32 32s32-12.8 32-32v-128h96c19.2 0 32-12.8 32-32s-12.8-32-32-32z m-640 0c-19.2 0-32-12.8-32-32v-448h480c19.2 0 32 12.8 32 32v448h-480z"  ></path></symbol></svg>',r=function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)};if((e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss")&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(e){document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(e,0):document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()},!1):document.attachEvent&&function(t,e){var i=t.document,r=!1,o=function(){r||(r=!0,e())};(function t(){try{i.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}o()})(),i.onreadystatechange=function(){"complete"==i.readyState&&(i.onreadystatechange=null,o())}}(t,e)}(function(){var t,e;(t=document.createElement("div")).innerHTML=i,i=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",r(e,document.body))})}(window)}},["NHnr"]);
//# sourceMappingURL=index.js.map